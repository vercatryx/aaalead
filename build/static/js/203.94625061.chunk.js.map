{"version":3,"file":"static/js/203.94625061.chunk.js","mappings":"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","sources":["../node_modules/@smithy/util-hex-encoding/dist-es/index.js","../node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js","../node_modules/@smithy/util-config-provider/dist-es/types.js","../node_modules/@smithy/util-config-provider/dist-es/booleanSelector.js","../node_modules/@smithy/util-utf8/dist-es/toUint8Array.js","../node_modules/@smithy/middleware-endpoint/dist-es/adaptors/toEndpointV1.js","../node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromConfig.browser.js","../node_modules/@smithy/querystring-builder/dist-es/index.js","../node_modules/@smithy/signature-v4/dist-es/constants.js","../node_modules/@smithy/signature-v4/dist-es/credentialDerivation.js","../node_modules/@smithy/signature-v4/dist-es/getCanonicalHeaders.js","../node_modules/@smithy/signature-v4/dist-es/getPayloadHash.js","../node_modules/@smithy/signature-v4/dist-es/HeaderFormatter.js","../node_modules/@smithy/signature-v4/dist-es/moveHeadersToQuery.js","../node_modules/@smithy/signature-v4/dist-es/prepareRequest.js","../node_modules/@smithy/signature-v4/dist-es/getCanonicalQuery.js","../node_modules/@smithy/signature-v4/dist-es/utilDate.js","../node_modules/@smithy/signature-v4/dist-es/SignatureV4Base.js","../node_modules/@smithy/signature-v4/dist-es/SignatureV4.js","../node_modules/@smithy/signature-v4/dist-es/headerUtil.js","../node_modules/@smithy/util-uri-escape/dist-es/escape-uri.js","../node_modules/@smithy/util-middleware/dist-es/normalizeProvider.js","../node_modules/@smithy/protocol-http/dist-es/httpRequest.js","../node_modules/@smithy/middleware-endpoint/dist-es/service-customizations/s3.js","../node_modules/@smithy/middleware-endpoint/dist-es/adaptors/createConfigValueProvider.js","../node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromInstructions.js","../node_modules/@smithy/url-parser/dist-es/index.js","../node_modules/@smithy/querystring-parser/dist-es/index.js","../node_modules/@smithy/is-array-buffer/dist-es/index.js","../node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js","../node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/SignatureV4S3Express.js","../node_modules/@smithy/signature-v4/dist-es/signature-v4a-container.js","../node_modules/@aws-sdk/signature-v4-multi-region/dist-es/signature-v4-crt-container.js","../node_modules/@aws-sdk/signature-v4-multi-region/dist-es/SignatureV4MultiRegion.js"],"sourcesContent":["const SHORT_TO_HEX = {};\nconst HEX_TO_SHORT = {};\nfor (let i = 0; i < 256; i++) {\n    let encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = `0${encodedByte}`;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\nexport function fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    const out = new Uint8Array(encoded.length / 2);\n    for (let i = 0; i < encoded.length; i += 2) {\n        const encodedByte = encoded.slice(i, i + 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(`Cannot decode unrecognized sequence ${encodedByte} as hexadecimal`);\n        }\n    }\n    return out;\n}\nexport function toHex(bytes) {\n    let out = \"\";\n    for (let i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n","import { booleanSelector, SelectorType } from \"@smithy/util-config-provider\";\nexport const S3_EXPRESS_BUCKET_TYPE = \"Directory\";\nexport const S3_EXPRESS_BACKEND = \"S3Express\";\nexport const S3_EXPRESS_AUTH_SCHEME = \"sigv4-s3express\";\nexport const SESSION_TOKEN_QUERY_PARAM = \"X-Amz-S3session-Token\";\nexport const SESSION_TOKEN_HEADER = SESSION_TOKEN_QUERY_PARAM.toLowerCase();\nexport const NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME = \"AWS_S3_DISABLE_EXPRESS_SESSION_AUTH\";\nexport const NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME = \"s3_disable_express_session_auth\";\nexport const NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS = {\n    environmentVariableSelector: (env) => booleanSelector(env, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME, SelectorType.ENV),\n    configFileSelector: (profile) => booleanSelector(profile, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME, SelectorType.CONFIG),\n    default: false,\n};\n","export var SelectorType;\n(function (SelectorType) {\n    SelectorType[\"ENV\"] = \"env\";\n    SelectorType[\"CONFIG\"] = \"shared config entry\";\n})(SelectorType || (SelectorType = {}));\n","export const booleanSelector = (obj, key, type) => {\n    if (!(key in obj))\n        return undefined;\n    if (obj[key] === \"true\")\n        return true;\n    if (obj[key] === \"false\")\n        return false;\n    throw new Error(`Cannot load ${type} \"${key}\". Expected \"true\" or \"false\", got ${obj[key]}.`);\n};\n","import { fromUtf8 } from \"./fromUtf8\";\nexport const toUint8Array = (data) => {\n    if (typeof data === \"string\") {\n        return fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n};\n","import { parseUrl } from \"@smithy/url-parser\";\nexport const toEndpointV1 = (endpoint) => {\n    if (typeof endpoint === \"object\") {\n        if (\"url\" in endpoint) {\n            return parseUrl(endpoint.url);\n        }\n        return endpoint;\n    }\n    return parseUrl(endpoint);\n};\n","export const getEndpointFromConfig = async (serviceId) => undefined;\n","import { escapeUri } from \"@smithy/util-uri-escape\";\nexport function buildQueryString(query) {\n    const parts = [];\n    for (let key of Object.keys(query).sort()) {\n        const value = query[key];\n        key = escapeUri(key);\n        if (Array.isArray(value)) {\n            for (let i = 0, iLen = value.length; i < iLen; i++) {\n                parts.push(`${key}=${escapeUri(value[i])}`);\n            }\n        }\n        else {\n            let qsEntry = key;\n            if (value || typeof value === \"string\") {\n                qsEntry += `=${escapeUri(value)}`;\n            }\n            parts.push(qsEntry);\n        }\n    }\n    return parts.join(\"&\");\n}\n","export const ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport const CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport const AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport const SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport const EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport const SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nexport const TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nexport const REGION_SET_PARAM = \"X-Amz-Region-Set\";\nexport const AUTH_HEADER = \"authorization\";\nexport const AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport const DATE_HEADER = \"date\";\nexport const GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nexport const SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nexport const SHA256_HEADER = \"x-amz-content-sha256\";\nexport const TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nexport const HOST_HEADER = \"host\";\nexport const ALWAYS_UNSIGNABLE_HEADERS = {\n    authorization: true,\n    \"cache-control\": true,\n    connection: true,\n    expect: true,\n    from: true,\n    \"keep-alive\": true,\n    \"max-forwards\": true,\n    pragma: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    \"transfer-encoding\": true,\n    upgrade: true,\n    \"user-agent\": true,\n    \"x-amzn-trace-id\": true,\n};\nexport const PROXY_HEADER_PATTERN = /^proxy-/;\nexport const SEC_HEADER_PATTERN = /^sec-/;\nexport const UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nexport const ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nexport const ALGORITHM_IDENTIFIER_V4A = \"AWS4-ECDSA-P256-SHA256\";\nexport const EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nexport const UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport const MAX_CACHE_SIZE = 50;\nexport const KEY_TYPE_IDENTIFIER = \"aws4_request\";\nexport const MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;\n","import { toHex } from \"@smithy/util-hex-encoding\";\nimport { toUint8Array } from \"@smithy/util-utf8\";\nimport { KEY_TYPE_IDENTIFIER, MAX_CACHE_SIZE } from \"./constants\";\nconst signingKeyCache = {};\nconst cacheQueue = [];\nexport const createScope = (shortDate, region, service) => `${shortDate}/${region}/${service}/${KEY_TYPE_IDENTIFIER}`;\nexport const getSigningKey = async (sha256Constructor, credentials, shortDate, region, service) => {\n    const credsHash = await hmac(sha256Constructor, credentials.secretAccessKey, credentials.accessKeyId);\n    const cacheKey = `${shortDate}:${region}:${service}:${toHex(credsHash)}:${credentials.sessionToken}`;\n    if (cacheKey in signingKeyCache) {\n        return signingKeyCache[cacheKey];\n    }\n    cacheQueue.push(cacheKey);\n    while (cacheQueue.length > MAX_CACHE_SIZE) {\n        delete signingKeyCache[cacheQueue.shift()];\n    }\n    let key = `AWS4${credentials.secretAccessKey}`;\n    for (const signable of [shortDate, region, service, KEY_TYPE_IDENTIFIER]) {\n        key = await hmac(sha256Constructor, key, signable);\n    }\n    return (signingKeyCache[cacheKey] = key);\n};\nexport const clearCredentialCache = () => {\n    cacheQueue.length = 0;\n    Object.keys(signingKeyCache).forEach((cacheKey) => {\n        delete signingKeyCache[cacheKey];\n    });\n};\nconst hmac = (ctor, secret, data) => {\n    const hash = new ctor(secret);\n    hash.update(toUint8Array(data));\n    return hash.digest();\n};\n","import { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\nexport const getCanonicalHeaders = ({ headers }, unsignableHeaders, signableHeaders) => {\n    const canonical = {};\n    for (const headerName of Object.keys(headers).sort()) {\n        if (headers[headerName] == undefined) {\n            continue;\n        }\n        const canonicalHeaderName = headerName.toLowerCase();\n        if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS ||\n            unsignableHeaders?.has(canonicalHeaderName) ||\n            PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n            SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n            if (!signableHeaders || (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                continue;\n            }\n        }\n        canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n    }\n    return canonical;\n};\n","import { isArrayBuffer } from \"@smithy/is-array-buffer\";\nimport { toHex } from \"@smithy/util-hex-encoding\";\nimport { toUint8Array } from \"@smithy/util-utf8\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nexport const getPayloadHash = async ({ headers, body }, hashConstructor) => {\n    for (const headerName of Object.keys(headers)) {\n        if (headerName.toLowerCase() === SHA256_HEADER) {\n            return headers[headerName];\n        }\n    }\n    if (body == undefined) {\n        return \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\";\n    }\n    else if (typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body)) {\n        const hashCtor = new hashConstructor();\n        hashCtor.update(toUint8Array(body));\n        return toHex(await hashCtor.digest());\n    }\n    return UNSIGNED_PAYLOAD;\n};\n","import { fromHex, toHex } from \"@smithy/util-hex-encoding\";\nimport { fromUtf8 } from \"@smithy/util-utf8\";\nexport class HeaderFormatter {\n    format(headers) {\n        const chunks = [];\n        for (const headerName of Object.keys(headers)) {\n            const bytes = fromUtf8(headerName);\n            chunks.push(Uint8Array.from([bytes.byteLength]), bytes, this.formatHeaderValue(headers[headerName]));\n        }\n        const out = new Uint8Array(chunks.reduce((carry, bytes) => carry + bytes.byteLength, 0));\n        let position = 0;\n        for (const chunk of chunks) {\n            out.set(chunk, position);\n            position += chunk.byteLength;\n        }\n        return out;\n    }\n    formatHeaderValue(header) {\n        switch (header.type) {\n            case \"boolean\":\n                return Uint8Array.from([header.value ? 0 : 1]);\n            case \"byte\":\n                return Uint8Array.from([2, header.value]);\n            case \"short\":\n                const shortView = new DataView(new ArrayBuffer(3));\n                shortView.setUint8(0, 3);\n                shortView.setInt16(1, header.value, false);\n                return new Uint8Array(shortView.buffer);\n            case \"integer\":\n                const intView = new DataView(new ArrayBuffer(5));\n                intView.setUint8(0, 4);\n                intView.setInt32(1, header.value, false);\n                return new Uint8Array(intView.buffer);\n            case \"long\":\n                const longBytes = new Uint8Array(9);\n                longBytes[0] = 5;\n                longBytes.set(header.value.bytes, 1);\n                return longBytes;\n            case \"binary\":\n                const binView = new DataView(new ArrayBuffer(3 + header.value.byteLength));\n                binView.setUint8(0, 6);\n                binView.setUint16(1, header.value.byteLength, false);\n                const binBytes = new Uint8Array(binView.buffer);\n                binBytes.set(header.value, 3);\n                return binBytes;\n            case \"string\":\n                const utf8Bytes = fromUtf8(header.value);\n                const strView = new DataView(new ArrayBuffer(3 + utf8Bytes.byteLength));\n                strView.setUint8(0, 7);\n                strView.setUint16(1, utf8Bytes.byteLength, false);\n                const strBytes = new Uint8Array(strView.buffer);\n                strBytes.set(utf8Bytes, 3);\n                return strBytes;\n            case \"timestamp\":\n                const tsBytes = new Uint8Array(9);\n                tsBytes[0] = 8;\n                tsBytes.set(Int64.fromNumber(header.value.valueOf()).bytes, 1);\n                return tsBytes;\n            case \"uuid\":\n                if (!UUID_PATTERN.test(header.value)) {\n                    throw new Error(`Invalid UUID received: ${header.value}`);\n                }\n                const uuidBytes = new Uint8Array(17);\n                uuidBytes[0] = 9;\n                uuidBytes.set(fromHex(header.value.replace(/\\-/g, \"\")), 1);\n                return uuidBytes;\n        }\n    }\n}\nvar HEADER_VALUE_TYPE;\n(function (HEADER_VALUE_TYPE) {\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"boolTrue\"] = 0] = \"boolTrue\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"boolFalse\"] = 1] = \"boolFalse\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"byte\"] = 2] = \"byte\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"short\"] = 3] = \"short\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"integer\"] = 4] = \"integer\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"long\"] = 5] = \"long\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"byteArray\"] = 6] = \"byteArray\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"string\"] = 7] = \"string\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"timestamp\"] = 8] = \"timestamp\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"uuid\"] = 9] = \"uuid\";\n})(HEADER_VALUE_TYPE || (HEADER_VALUE_TYPE = {}));\nconst UUID_PATTERN = /^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;\nexport class Int64 {\n    bytes;\n    constructor(bytes) {\n        this.bytes = bytes;\n        if (bytes.byteLength !== 8) {\n            throw new Error(\"Int64 buffers must be exactly 8 bytes\");\n        }\n    }\n    static fromNumber(number) {\n        if (number > 9_223_372_036_854_775_807 || number < -9_223_372_036_854_775_808) {\n            throw new Error(`${number} is too large (or, if negative, too small) to represent as an Int64`);\n        }\n        const bytes = new Uint8Array(8);\n        for (let i = 7, remaining = Math.abs(Math.round(number)); i > -1 && remaining > 0; i--, remaining /= 256) {\n            bytes[i] = remaining;\n        }\n        if (number < 0) {\n            negate(bytes);\n        }\n        return new Int64(bytes);\n    }\n    valueOf() {\n        const bytes = this.bytes.slice(0);\n        const negative = bytes[0] & 0b10000000;\n        if (negative) {\n            negate(bytes);\n        }\n        return parseInt(toHex(bytes), 16) * (negative ? -1 : 1);\n    }\n    toString() {\n        return String(this.valueOf());\n    }\n}\nfunction negate(bytes) {\n    for (let i = 0; i < 8; i++) {\n        bytes[i] ^= 0xff;\n    }\n    for (let i = 7; i > -1; i--) {\n        bytes[i]++;\n        if (bytes[i] !== 0)\n            break;\n    }\n}\n","import { HttpRequest } from \"@smithy/protocol-http\";\nexport const moveHeadersToQuery = (request, options = {}) => {\n    const { headers, query = {} } = HttpRequest.clone(request);\n    for (const name of Object.keys(headers)) {\n        const lname = name.toLowerCase();\n        if ((lname.slice(0, 6) === \"x-amz-\" && !options.unhoistableHeaders?.has(lname)) ||\n            options.hoistableHeaders?.has(lname)) {\n            query[name] = headers[name];\n            delete headers[name];\n        }\n    }\n    return {\n        ...request,\n        headers,\n        query,\n    };\n};\n","import { HttpRequest } from \"@smithy/protocol-http\";\nimport { GENERATED_HEADERS } from \"./constants\";\nexport const prepareRequest = (request) => {\n    request = HttpRequest.clone(request);\n    for (const headerName of Object.keys(request.headers)) {\n        if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n            delete request.headers[headerName];\n        }\n    }\n    return request;\n};\n","import { escapeUri } from \"@smithy/util-uri-escape\";\nimport { SIGNATURE_HEADER } from \"./constants\";\nexport const getCanonicalQuery = ({ query = {} }) => {\n    const keys = [];\n    const serialized = {};\n    for (const key of Object.keys(query)) {\n        if (key.toLowerCase() === SIGNATURE_HEADER) {\n            continue;\n        }\n        const encodedKey = escapeUri(key);\n        keys.push(encodedKey);\n        const value = query[key];\n        if (typeof value === \"string\") {\n            serialized[encodedKey] = `${encodedKey}=${escapeUri(value)}`;\n        }\n        else if (Array.isArray(value)) {\n            serialized[encodedKey] = value\n                .slice(0)\n                .reduce((encoded, value) => encoded.concat([`${encodedKey}=${escapeUri(value)}`]), [])\n                .sort()\n                .join(\"&\");\n        }\n    }\n    return keys\n        .sort()\n        .map((key) => serialized[key])\n        .filter((serialized) => serialized)\n        .join(\"&\");\n};\n","export const iso8601 = (time) => toDate(time)\n    .toISOString()\n    .replace(/\\.\\d{3}Z$/, \"Z\");\nexport const toDate = (time) => {\n    if (typeof time === \"number\") {\n        return new Date(time * 1000);\n    }\n    if (typeof time === \"string\") {\n        if (Number(time)) {\n            return new Date(Number(time) * 1000);\n        }\n        return new Date(time);\n    }\n    return time;\n};\n","import { toHex } from \"@smithy/util-hex-encoding\";\nimport { normalizeProvider } from \"@smithy/util-middleware\";\nimport { escapeUri } from \"@smithy/util-uri-escape\";\nimport { toUint8Array } from \"@smithy/util-utf8\";\nimport { getCanonicalQuery } from \"./getCanonicalQuery\";\nimport { iso8601 } from \"./utilDate\";\nexport class SignatureV4Base {\n    service;\n    regionProvider;\n    credentialProvider;\n    sha256;\n    uriEscapePath;\n    applyChecksum;\n    constructor({ applyChecksum, credentials, region, service, sha256, uriEscapePath = true, }) {\n        this.service = service;\n        this.sha256 = sha256;\n        this.uriEscapePath = uriEscapePath;\n        this.applyChecksum = typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n        this.regionProvider = normalizeProvider(region);\n        this.credentialProvider = normalizeProvider(credentials);\n    }\n    createCanonicalRequest(request, canonicalHeaders, payloadHash) {\n        const sortedHeaders = Object.keys(canonicalHeaders).sort();\n        return `${request.method}\n${this.getCanonicalPath(request)}\n${getCanonicalQuery(request)}\n${sortedHeaders.map((name) => `${name}:${canonicalHeaders[name]}`).join(\"\\n\")}\n\n${sortedHeaders.join(\";\")}\n${payloadHash}`;\n    }\n    async createStringToSign(longDate, credentialScope, canonicalRequest, algorithmIdentifier) {\n        const hash = new this.sha256();\n        hash.update(toUint8Array(canonicalRequest));\n        const hashedRequest = await hash.digest();\n        return `${algorithmIdentifier}\n${longDate}\n${credentialScope}\n${toHex(hashedRequest)}`;\n    }\n    getCanonicalPath({ path }) {\n        if (this.uriEscapePath) {\n            const normalizedPathSegments = [];\n            for (const pathSegment of path.split(\"/\")) {\n                if (pathSegment?.length === 0)\n                    continue;\n                if (pathSegment === \".\")\n                    continue;\n                if (pathSegment === \"..\") {\n                    normalizedPathSegments.pop();\n                }\n                else {\n                    normalizedPathSegments.push(pathSegment);\n                }\n            }\n            const normalizedPath = `${path?.startsWith(\"/\") ? \"/\" : \"\"}${normalizedPathSegments.join(\"/\")}${normalizedPathSegments.length > 0 && path?.endsWith(\"/\") ? \"/\" : \"\"}`;\n            const doubleEncoded = escapeUri(normalizedPath);\n            return doubleEncoded.replace(/%2F/g, \"/\");\n        }\n        return path;\n    }\n    validateResolvedCredentials(credentials) {\n        if (typeof credentials !== \"object\" ||\n            typeof credentials.accessKeyId !== \"string\" ||\n            typeof credentials.secretAccessKey !== \"string\") {\n            throw new Error(\"Resolved credential object is not valid\");\n        }\n    }\n    formatDate(now) {\n        const longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n        return {\n            longDate,\n            shortDate: longDate.slice(0, 8),\n        };\n    }\n    getCanonicalHeaderList(headers) {\n        return Object.keys(headers).sort().join(\";\");\n    }\n}\n","import { toHex } from \"@smithy/util-hex-encoding\";\nimport { toUint8Array } from \"@smithy/util-utf8\";\nimport { ALGORITHM_IDENTIFIER, ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EVENT_ALGORITHM_IDENTIFIER, EXPIRES_QUERY_PARAM, MAX_PRESIGNED_TTL, SHA256_HEADER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM, } from \"./constants\";\nimport { createScope, getSigningKey } from \"./credentialDerivation\";\nimport { getCanonicalHeaders } from \"./getCanonicalHeaders\";\nimport { getPayloadHash } from \"./getPayloadHash\";\nimport { HeaderFormatter } from \"./HeaderFormatter\";\nimport { hasHeader } from \"./headerUtil\";\nimport { moveHeadersToQuery } from \"./moveHeadersToQuery\";\nimport { prepareRequest } from \"./prepareRequest\";\nimport { SignatureV4Base } from \"./SignatureV4Base\";\nexport class SignatureV4 extends SignatureV4Base {\n    headerFormatter = new HeaderFormatter();\n    constructor({ applyChecksum, credentials, region, service, sha256, uriEscapePath = true, }) {\n        super({\n            applyChecksum,\n            credentials,\n            region,\n            service,\n            sha256,\n            uriEscapePath,\n        });\n    }\n    async presign(originalRequest, options = {}) {\n        const { signingDate = new Date(), expiresIn = 3600, unsignableHeaders, unhoistableHeaders, signableHeaders, hoistableHeaders, signingRegion, signingService, } = options;\n        const credentials = await this.credentialProvider();\n        this.validateResolvedCredentials(credentials);\n        const region = signingRegion ?? (await this.regionProvider());\n        const { longDate, shortDate } = this.formatDate(signingDate);\n        if (expiresIn > MAX_PRESIGNED_TTL) {\n            return Promise.reject(\"Signature version 4 presigned URLs\" + \" must have an expiration date less than one week in\" + \" the future\");\n        }\n        const scope = createScope(shortDate, region, signingService ?? this.service);\n        const request = moveHeadersToQuery(prepareRequest(originalRequest), { unhoistableHeaders, hoistableHeaders });\n        if (credentials.sessionToken) {\n            request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        }\n        request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n        request.query[CREDENTIAL_QUERY_PARAM] = `${credentials.accessKeyId}/${scope}`;\n        request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n        request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n        const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n        request.query[SIGNED_HEADERS_QUERY_PARAM] = this.getCanonicalHeaderList(canonicalHeaders);\n        request.query[SIGNATURE_QUERY_PARAM] = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, await getPayloadHash(originalRequest, this.sha256)));\n        return request;\n    }\n    async sign(toSign, options) {\n        if (typeof toSign === \"string\") {\n            return this.signString(toSign, options);\n        }\n        else if (toSign.headers && toSign.payload) {\n            return this.signEvent(toSign, options);\n        }\n        else if (toSign.message) {\n            return this.signMessage(toSign, options);\n        }\n        else {\n            return this.signRequest(toSign, options);\n        }\n    }\n    async signEvent({ headers, payload }, { signingDate = new Date(), priorSignature, signingRegion, signingService }) {\n        const region = signingRegion ?? (await this.regionProvider());\n        const { shortDate, longDate } = this.formatDate(signingDate);\n        const scope = createScope(shortDate, region, signingService ?? this.service);\n        const hashedPayload = await getPayloadHash({ headers: {}, body: payload }, this.sha256);\n        const hash = new this.sha256();\n        hash.update(headers);\n        const hashedHeaders = toHex(await hash.digest());\n        const stringToSign = [\n            EVENT_ALGORITHM_IDENTIFIER,\n            longDate,\n            scope,\n            priorSignature,\n            hashedHeaders,\n            hashedPayload,\n        ].join(\"\\n\");\n        return this.signString(stringToSign, { signingDate, signingRegion: region, signingService });\n    }\n    async signMessage(signableMessage, { signingDate = new Date(), signingRegion, signingService }) {\n        const promise = this.signEvent({\n            headers: this.headerFormatter.format(signableMessage.message.headers),\n            payload: signableMessage.message.body,\n        }, {\n            signingDate,\n            signingRegion,\n            signingService,\n            priorSignature: signableMessage.priorSignature,\n        });\n        return promise.then((signature) => {\n            return { message: signableMessage.message, signature };\n        });\n    }\n    async signString(stringToSign, { signingDate = new Date(), signingRegion, signingService } = {}) {\n        const credentials = await this.credentialProvider();\n        this.validateResolvedCredentials(credentials);\n        const region = signingRegion ?? (await this.regionProvider());\n        const { shortDate } = this.formatDate(signingDate);\n        const hash = new this.sha256(await this.getSigningKey(credentials, region, shortDate, signingService));\n        hash.update(toUint8Array(stringToSign));\n        return toHex(await hash.digest());\n    }\n    async signRequest(requestToSign, { signingDate = new Date(), signableHeaders, unsignableHeaders, signingRegion, signingService, } = {}) {\n        const credentials = await this.credentialProvider();\n        this.validateResolvedCredentials(credentials);\n        const region = signingRegion ?? (await this.regionProvider());\n        const request = prepareRequest(requestToSign);\n        const { longDate, shortDate } = this.formatDate(signingDate);\n        const scope = createScope(shortDate, region, signingService ?? this.service);\n        request.headers[AMZ_DATE_HEADER] = longDate;\n        if (credentials.sessionToken) {\n            request.headers[TOKEN_HEADER] = credentials.sessionToken;\n        }\n        const payloadHash = await getPayloadHash(request, this.sha256);\n        if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n            request.headers[SHA256_HEADER] = payloadHash;\n        }\n        const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n        const signature = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash));\n        request.headers[AUTH_HEADER] =\n            `${ALGORITHM_IDENTIFIER} ` +\n                `Credential=${credentials.accessKeyId}/${scope}, ` +\n                `SignedHeaders=${this.getCanonicalHeaderList(canonicalHeaders)}, ` +\n                `Signature=${signature}`;\n        return request;\n    }\n    async getSignature(longDate, credentialScope, keyPromise, canonicalRequest) {\n        const stringToSign = await this.createStringToSign(longDate, credentialScope, canonicalRequest, ALGORITHM_IDENTIFIER);\n        const hash = new this.sha256(await keyPromise);\n        hash.update(toUint8Array(stringToSign));\n        return toHex(await hash.digest());\n    }\n    getSigningKey(credentials, region, shortDate, service) {\n        return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);\n    }\n}\n","export const hasHeader = (soughtHeader, headers) => {\n    soughtHeader = soughtHeader.toLowerCase();\n    for (const headerName of Object.keys(headers)) {\n        if (soughtHeader === headerName.toLowerCase()) {\n            return true;\n        }\n    }\n    return false;\n};\nexport const getHeaderValue = (soughtHeader, headers) => {\n    soughtHeader = soughtHeader.toLowerCase();\n    for (const headerName of Object.keys(headers)) {\n        if (soughtHeader === headerName.toLowerCase()) {\n            return headers[headerName];\n        }\n    }\n    return undefined;\n};\nexport const deleteHeader = (soughtHeader, headers) => {\n    soughtHeader = soughtHeader.toLowerCase();\n    for (const headerName of Object.keys(headers)) {\n        if (soughtHeader === headerName.toLowerCase()) {\n            delete headers[headerName];\n        }\n    }\n};\n","export const escapeUri = (uri) => encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\nconst hexEncode = (c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`;\n","export const normalizeProvider = (input) => {\n    if (typeof input === \"function\")\n        return input;\n    const promisified = Promise.resolve(input);\n    return () => promisified;\n};\n","export class HttpRequest {\n    method;\n    protocol;\n    hostname;\n    port;\n    path;\n    query;\n    headers;\n    username;\n    password;\n    fragment;\n    body;\n    constructor(options) {\n        this.method = options.method || \"GET\";\n        this.hostname = options.hostname || \"localhost\";\n        this.port = options.port;\n        this.query = options.query || {};\n        this.headers = options.headers || {};\n        this.body = options.body;\n        this.protocol = options.protocol\n            ? options.protocol.slice(-1) !== \":\"\n                ? `${options.protocol}:`\n                : options.protocol\n            : \"https:\";\n        this.path = options.path ? (options.path.charAt(0) !== \"/\" ? `/${options.path}` : options.path) : \"/\";\n        this.username = options.username;\n        this.password = options.password;\n        this.fragment = options.fragment;\n    }\n    static clone(request) {\n        const cloned = new HttpRequest({\n            ...request,\n            headers: { ...request.headers },\n        });\n        if (cloned.query) {\n            cloned.query = cloneQuery(cloned.query);\n        }\n        return cloned;\n    }\n    static isInstance(request) {\n        if (!request) {\n            return false;\n        }\n        const req = request;\n        return (\"method\" in req &&\n            \"protocol\" in req &&\n            \"hostname\" in req &&\n            \"path\" in req &&\n            typeof req[\"query\"] === \"object\" &&\n            typeof req[\"headers\"] === \"object\");\n    }\n    clone() {\n        return HttpRequest.clone(this);\n    }\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce((carry, paramName) => {\n        const param = query[paramName];\n        return {\n            ...carry,\n            [paramName]: Array.isArray(param) ? [...param] : param,\n        };\n    }, {});\n}\n","export const resolveParamsForS3 = async (endpointParams) => {\n    const bucket = endpointParams?.Bucket || \"\";\n    if (typeof endpointParams.Bucket === \"string\") {\n        endpointParams.Bucket = bucket.replace(/#/g, encodeURIComponent(\"#\")).replace(/\\?/g, encodeURIComponent(\"?\"));\n    }\n    if (isArnBucketName(bucket)) {\n        if (endpointParams.ForcePathStyle === true) {\n            throw new Error(\"Path-style addressing cannot be used with ARN buckets\");\n        }\n    }\n    else if (!isDnsCompatibleBucketName(bucket) ||\n        (bucket.indexOf(\".\") !== -1 && !String(endpointParams.Endpoint).startsWith(\"http:\")) ||\n        bucket.toLowerCase() !== bucket ||\n        bucket.length < 3) {\n        endpointParams.ForcePathStyle = true;\n    }\n    if (endpointParams.DisableMultiRegionAccessPoints) {\n        endpointParams.disableMultiRegionAccessPoints = true;\n        endpointParams.DisableMRAP = true;\n    }\n    return endpointParams;\n};\nconst DOMAIN_PATTERN = /^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/;\nconst IP_ADDRESS_PATTERN = /(\\d+\\.){3}\\d+/;\nconst DOTS_PATTERN = /\\.\\./;\nexport const DOT_PATTERN = /\\./;\nexport const S3_HOSTNAME_PATTERN = /^(.+\\.)?s3(-fips)?(\\.dualstack)?[.-]([a-z0-9-]+)\\./;\nexport const isDnsCompatibleBucketName = (bucketName) => DOMAIN_PATTERN.test(bucketName) && !IP_ADDRESS_PATTERN.test(bucketName) && !DOTS_PATTERN.test(bucketName);\nexport const isArnBucketName = (bucketName) => {\n    const [arn, partition, service, , , bucket] = bucketName.split(\":\");\n    const isArn = arn === \"arn\" && bucketName.split(\":\").length >= 6;\n    const isValidArn = Boolean(isArn && partition && service && bucket);\n    if (isArn && !isValidArn) {\n        throw new Error(`Invalid ARN: ${bucketName} was an invalid ARN.`);\n    }\n    return isValidArn;\n};\n","export const createConfigValueProvider = (configKey, canonicalEndpointParamKey, config, isClientContextParam = false) => {\n    const configProvider = async () => {\n        let configValue;\n        if (isClientContextParam) {\n            const clientContextParams = config.clientContextParams;\n            const nestedValue = clientContextParams?.[configKey];\n            configValue = nestedValue ?? config[configKey] ?? config[canonicalEndpointParamKey];\n        }\n        else {\n            configValue = config[configKey] ?? config[canonicalEndpointParamKey];\n        }\n        if (typeof configValue === \"function\") {\n            return configValue();\n        }\n        return configValue;\n    };\n    if (configKey === \"credentialScope\" || canonicalEndpointParamKey === \"CredentialScope\") {\n        return async () => {\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\n            const configValue = credentials?.credentialScope ?? credentials?.CredentialScope;\n            return configValue;\n        };\n    }\n    if (configKey === \"accountId\" || canonicalEndpointParamKey === \"AccountId\") {\n        return async () => {\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\n            const configValue = credentials?.accountId ?? credentials?.AccountId;\n            return configValue;\n        };\n    }\n    if (configKey === \"endpoint\" || canonicalEndpointParamKey === \"endpoint\") {\n        return async () => {\n            if (config.isCustomEndpoint === false) {\n                return undefined;\n            }\n            const endpoint = await configProvider();\n            if (endpoint && typeof endpoint === \"object\") {\n                if (\"url\" in endpoint) {\n                    return endpoint.url.href;\n                }\n                if (\"hostname\" in endpoint) {\n                    const { protocol, hostname, port, path } = endpoint;\n                    return `${protocol}//${hostname}${port ? \":\" + port : \"\"}${path}`;\n                }\n            }\n            return endpoint;\n        };\n    }\n    return configProvider;\n};\n","import { resolveParamsForS3 } from \"../service-customizations\";\nimport { createConfigValueProvider } from \"./createConfigValueProvider\";\nimport { getEndpointFromConfig } from \"./getEndpointFromConfig\";\nimport { toEndpointV1 } from \"./toEndpointV1\";\nexport const getEndpointFromInstructions = async (commandInput, instructionsSupplier, clientConfig, context) => {\n    if (!clientConfig.isCustomEndpoint) {\n        let endpointFromConfig;\n        if (clientConfig.serviceConfiguredEndpoint) {\n            endpointFromConfig = await clientConfig.serviceConfiguredEndpoint();\n        }\n        else {\n            endpointFromConfig = await getEndpointFromConfig(clientConfig.serviceId);\n        }\n        if (endpointFromConfig) {\n            clientConfig.endpoint = () => Promise.resolve(toEndpointV1(endpointFromConfig));\n            clientConfig.isCustomEndpoint = true;\n        }\n    }\n    const endpointParams = await resolveParams(commandInput, instructionsSupplier, clientConfig);\n    if (typeof clientConfig.endpointProvider !== \"function\") {\n        throw new Error(\"config.endpointProvider is not set.\");\n    }\n    const endpoint = clientConfig.endpointProvider(endpointParams, context);\n    return endpoint;\n};\nexport const resolveParams = async (commandInput, instructionsSupplier, clientConfig) => {\n    const endpointParams = {};\n    const instructions = instructionsSupplier?.getEndpointParameterInstructions?.() || {};\n    for (const [name, instruction] of Object.entries(instructions)) {\n        switch (instruction.type) {\n            case \"staticContextParams\":\n                endpointParams[name] = instruction.value;\n                break;\n            case \"contextParams\":\n                endpointParams[name] = commandInput[instruction.name];\n                break;\n            case \"clientContextParams\":\n            case \"builtInParams\":\n                endpointParams[name] = await createConfigValueProvider(instruction.name, name, clientConfig, instruction.type !== \"builtInParams\")();\n                break;\n            case \"operationContextParams\":\n                endpointParams[name] = instruction.get(commandInput);\n                break;\n            default:\n                throw new Error(\"Unrecognized endpoint parameter instruction: \" + JSON.stringify(instruction));\n        }\n    }\n    if (Object.keys(instructions).length === 0) {\n        Object.assign(endpointParams, clientConfig);\n    }\n    if (String(clientConfig.serviceId).toLowerCase() === \"s3\") {\n        await resolveParamsForS3(endpointParams);\n    }\n    return endpointParams;\n};\n","import { parseQueryString } from \"@smithy/querystring-parser\";\nexport const parseUrl = (url) => {\n    if (typeof url === \"string\") {\n        return parseUrl(new URL(url));\n    }\n    const { hostname, pathname, port, protocol, search } = url;\n    let query;\n    if (search) {\n        query = parseQueryString(search);\n    }\n    return {\n        hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol,\n        path: pathname,\n        query,\n    };\n};\n","export function parseQueryString(querystring) {\n    const query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        for (const pair of querystring.split(\"&\")) {\n            let [key, value = null] = pair.split(\"=\");\n            key = decodeURIComponent(key);\n            if (value) {\n                value = decodeURIComponent(value);\n            }\n            if (!(key in query)) {\n                query[key] = value;\n            }\n            else if (Array.isArray(query[key])) {\n                query[key].push(value);\n            }\n            else {\n                query[key] = [query[key], value];\n            }\n        }\n    }\n    return query;\n}\n","export const isArrayBuffer = (arg) => (typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n    Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";\n","export const fromUtf8 = (input) => new TextEncoder().encode(input);\n","import { SignatureV4 } from \"@smithy/signature-v4\";\nimport { SESSION_TOKEN_HEADER, SESSION_TOKEN_QUERY_PARAM } from \"../constants\";\nexport class SignatureV4S3Express extends SignatureV4 {\n    async signWithCredentials(requestToSign, credentials, options) {\n        const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n        requestToSign.headers[SESSION_TOKEN_HEADER] = credentials.sessionToken;\n        const privateAccess = this;\n        setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n        return privateAccess.signRequest(requestToSign, options ?? {});\n    }\n    async presignWithCredentials(requestToSign, credentials, options) {\n        const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n        delete requestToSign.headers[SESSION_TOKEN_HEADER];\n        requestToSign.headers[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        requestToSign.query = requestToSign.query ?? {};\n        requestToSign.query[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        const privateAccess = this;\n        setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n        return this.presign(requestToSign, options);\n    }\n}\nfunction getCredentialsWithoutSessionToken(credentials) {\n    const credentialsWithoutSessionToken = {\n        accessKeyId: credentials.accessKeyId,\n        secretAccessKey: credentials.secretAccessKey,\n        expiration: credentials.expiration,\n    };\n    return credentialsWithoutSessionToken;\n}\nfunction setSingleOverride(privateAccess, credentialsWithoutSessionToken) {\n    const id = setTimeout(() => {\n        throw new Error(\"SignatureV4S3Express credential override was created but not called.\");\n    }, 10);\n    const currentCredentialProvider = privateAccess.credentialProvider;\n    const overrideCredentialsProviderOnce = () => {\n        clearTimeout(id);\n        privateAccess.credentialProvider = currentCredentialProvider;\n        return Promise.resolve(credentialsWithoutSessionToken);\n    };\n    privateAccess.credentialProvider = overrideCredentialsProviderOnce;\n}\n","export const signatureV4aContainer = {\n    SignatureV4a: null,\n};\n","export const signatureV4CrtContainer = {\n    CrtSignerV4: null,\n};\n","import { SignatureV4S3Express } from \"@aws-sdk/middleware-sdk-s3\";\nimport { signatureV4aContainer, } from \"@smithy/signature-v4\";\nimport { signatureV4CrtContainer } from \"./signature-v4-crt-container\";\nexport class SignatureV4MultiRegion {\n    sigv4aSigner;\n    sigv4Signer;\n    signerOptions;\n    static sigv4aDependency() {\n        if (typeof signatureV4CrtContainer.CrtSignerV4 === \"function\") {\n            return \"crt\";\n        }\n        else if (typeof signatureV4aContainer.SignatureV4a === \"function\") {\n            return \"js\";\n        }\n        return \"none\";\n    }\n    constructor(options) {\n        this.sigv4Signer = new SignatureV4S3Express(options);\n        this.signerOptions = options;\n    }\n    async sign(requestToSign, options = {}) {\n        if (options.signingRegion === \"*\") {\n            return this.getSigv4aSigner().sign(requestToSign, options);\n        }\n        return this.sigv4Signer.sign(requestToSign, options);\n    }\n    async signWithCredentials(requestToSign, credentials, options = {}) {\n        if (options.signingRegion === \"*\") {\n            const signer = this.getSigv4aSigner();\n            const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;\n            if (CrtSignerV4 && signer instanceof CrtSignerV4) {\n                return signer.signWithCredentials(requestToSign, credentials, options);\n            }\n            else {\n                throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. ` +\n                    `Please check whether you have installed the \"@aws-sdk/signature-v4-crt\" package explicitly. ` +\n                    `You must also register the package by calling [require(\"@aws-sdk/signature-v4-crt\");] ` +\n                    `or an ESM equivalent such as [import \"@aws-sdk/signature-v4-crt\";]. ` +\n                    `For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);\n            }\n        }\n        return this.sigv4Signer.signWithCredentials(requestToSign, credentials, options);\n    }\n    async presign(originalRequest, options = {}) {\n        if (options.signingRegion === \"*\") {\n            const signer = this.getSigv4aSigner();\n            const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;\n            if (CrtSignerV4 && signer instanceof CrtSignerV4) {\n                return signer.presign(originalRequest, options);\n            }\n            else {\n                throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. ` +\n                    `Please check whether you have installed the \"@aws-sdk/signature-v4-crt\" package explicitly. ` +\n                    `You must also register the package by calling [require(\"@aws-sdk/signature-v4-crt\");] ` +\n                    `or an ESM equivalent such as [import \"@aws-sdk/signature-v4-crt\";]. ` +\n                    `For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);\n            }\n        }\n        return this.sigv4Signer.presign(originalRequest, options);\n    }\n    async presignWithCredentials(originalRequest, credentials, options = {}) {\n        if (options.signingRegion === \"*\") {\n            throw new Error(\"Method presignWithCredentials is not supported for [signingRegion=*].\");\n        }\n        return this.sigv4Signer.presignWithCredentials(originalRequest, credentials, options);\n    }\n    getSigv4aSigner() {\n        if (!this.sigv4aSigner) {\n            const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;\n            const JsSigV4aSigner = signatureV4aContainer.SignatureV4a;\n            if (this.signerOptions.runtime === \"node\") {\n                if (!CrtSignerV4 && !JsSigV4aSigner) {\n                    throw new Error(\"Neither CRT nor JS SigV4a implementation is available. \" +\n                        \"Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. \" +\n                        \"For more information please go to \" +\n                        \"https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt\");\n                }\n                if (CrtSignerV4 && typeof CrtSignerV4 === \"function\") {\n                    this.sigv4aSigner = new CrtSignerV4({\n                        ...this.signerOptions,\n                        signingAlgorithm: 1,\n                    });\n                }\n                else if (JsSigV4aSigner && typeof JsSigV4aSigner === \"function\") {\n                    this.sigv4aSigner = new JsSigV4aSigner({\n                        ...this.signerOptions,\n                    });\n                }\n                else {\n                    throw new Error(\"Available SigV4a implementation is not a valid constructor. \" +\n                        \"Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.\" +\n                        \"For more information please go to \" +\n                        \"https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt\");\n                }\n            }\n            else {\n                if (!JsSigV4aSigner || typeof JsSigV4aSigner !== \"function\") {\n                    throw new Error(\"JS SigV4a implementation is not available or not a valid constructor. \" +\n                        \"Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. \" +\n                        \"You must also register the package by calling [require('@aws-sdk/signature-v4a');] \" +\n                        \"or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. \" +\n                        \"For more information please go to \" +\n                        \"https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a\");\n                }\n                this.sigv4aSigner = new JsSigV4aSigner({\n                    ...this.signerOptions,\n                });\n            }\n        }\n        return this.sigv4aSigner;\n    }\n}\n"],"names":["SHORT_TO_HEX","HEX_TO_SHORT","i","encodedByte","toString","toLowerCase","length","concat","fromHex","encoded","Error","out","Uint8Array","slice","toHex","bytes","byteLength","S3_EXPRESS_BUCKET_TYPE","S3_EXPRESS_BACKEND","S3_EXPRESS_AUTH_SCHEME","SESSION_TOKEN_QUERY_PARAM","SESSION_TOKEN_HEADER","SelectorType","booleanSelector","obj","key","type","toUint8Array","data","fromUtf8","ArrayBuffer","isView","buffer","byteOffset","BYTES_PER_ELEMENT","toEndpointV1","endpoint","parseUrl","url","getEndpointFromConfig","async","buildQueryString","query","parts","Object","keys","sort","value","escapeUri","Array","isArray","iLen","push","qsEntry","join","AMZ_DATE_QUERY_PARAM","SIGNATURE_QUERY_PARAM","TOKEN_QUERY_PARAM","AUTH_HEADER","AMZ_DATE_HEADER","GENERATED_HEADERS","SIGNATURE_HEADER","SHA256_HEADER","TOKEN_HEADER","ALWAYS_UNSIGNABLE_HEADERS","authorization","connection","expect","from","pragma","referer","te","trailer","upgrade","PROXY_HEADER_PATTERN","SEC_HEADER_PATTERN","ALGORITHM_IDENTIFIER","EVENT_ALGORITHM_IDENTIFIER","KEY_TYPE_IDENTIFIER","signingKeyCache","cacheQueue","createScope","shortDate","region","service","hmac","ctor","secret","hash","update","digest","getCanonicalHeaders","_ref","unsignableHeaders","signableHeaders","headers","canonical","headerName","undefined","canonicalHeaderName","has","test","trim","replace","getPayloadHash","hashConstructor","body","isArrayBuffer","hashCtor","HEADER_VALUE_TYPE","HeaderFormatter","format","chunks","this","formatHeaderValue","reduce","carry","position","chunk","set","header","shortView","DataView","setUint8","setInt16","intView","setInt32","longBytes","binView","setUint16","binBytes","utf8Bytes","strView","strBytes","tsBytes","Int64","fromNumber","valueOf","UUID_PATTERN","uuidBytes","constructor","_defineProperty","number","remaining","Math","abs","round","negate","negative","parseInt","String","prepareRequest","request","HttpRequest","clone","indexOf","toDate","time","Date","Number","SignatureV4Base","applyChecksum","credentials","sha256","uriEscapePath","regionProvider","normalizeProvider","credentialProvider","createCanonicalRequest","canonicalHeaders","payloadHash","sortedHeaders","method","getCanonicalPath","serialized","encodedKey","map","filter","getCanonicalQuery","name","createStringToSign","longDate","credentialScope","canonicalRequest","algorithmIdentifier","hashedRequest","_ref2","path","normalizedPathSegments","pathSegment","split","pop","normalizedPath","startsWith","endsWith","validateResolvedCredentials","accessKeyId","secretAccessKey","formatDate","now","toISOString","getCanonicalHeaderList","SignatureV4","super","presign","originalRequest","options","arguments","signingDate","expiresIn","unhoistableHeaders","hoistableHeaders","signingRegion","signingService","Promise","reject","scope","_options$unhoistableH","_options$hoistableHea","lname","_objectSpread","moveHeadersToQuery","sessionToken","getSignature","getSigningKey","sign","toSign","signString","payload","signEvent","message","signMessage","signRequest","_ref3","priorSignature","hashedPayload","hashedHeaders","stringToSign","signableMessage","_ref4","headerFormatter","then","signature","requestToSign","hasHeader","soughtHeader","keyPromise","sha256Constructor","credsHash","cacheKey","shift","signable","uri","encodeURIComponent","hexEncode","c","charCodeAt","toUpperCase","input","promisified","resolve","hostname","port","protocol","charAt","username","password","fragment","cloned","paramName","param","isInstance","req","DOMAIN_PATTERN","IP_ADDRESS_PATTERN","DOTS_PATTERN","isDnsCompatibleBucketName","bucketName","isArnBucketName","arn","partition","bucket","isArn","isValidArn","Boolean","createConfigValueProvider","configKey","canonicalEndpointParamKey","config","isClientContextParam","configProvider","configValue","clientContextParams","nestedValue","_config$configKey","_credentials$credenti","CredentialScope","_credentials$accountI","accountId","AccountId","isCustomEndpoint","href","getEndpointFromInstructions","commandInput","instructionsSupplier","clientConfig","context","endpointFromConfig","serviceConfiguredEndpoint","serviceId","endpointParams","resolveParams","endpointProvider","_instructionsSupplier","instructions","getEndpointParameterInstructions","call","instruction","entries","get","JSON","stringify","assign","Bucket","ForcePathStyle","Endpoint","DisableMultiRegionAccessPoints","disableMultiRegionAccessPoints","DisableMRAP","resolveParamsForS3","URL","pathname","search","querystring","pair","decodeURIComponent","parseQueryString","arg","prototype","TextEncoder","encode","SignatureV4S3Express","signWithCredentials","credentialsWithoutSessionToken","getCredentialsWithoutSessionToken","setSingleOverride","presignWithCredentials","_requestToSign$query","expiration","privateAccess","id","setTimeout","currentCredentialProvider","overrideCredentialsProviderOnce","clearTimeout","signatureV4aContainer","signatureV4CrtContainer","SignatureV4MultiRegion","sigv4aDependency","sigv4Signer","signerOptions","getSigv4aSigner","signer","sigv4aSigner","CrtSignerV4","JsSigV4aSigner","runtime","signingAlgorithm"],"ignoreList":[],"sourceRoot":""}